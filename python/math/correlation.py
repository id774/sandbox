#!/usr/bin/env python
# -*- coding: utf-8 -*-

import math

def correlation(data):
    n = len(data)
    xm = 0.0
    ym = 0.0
    for x, y in data:
        xm += x
        ym += y
    xm /= n
    ym /= n
    sx2 = 0.0
    sy2 = 0.0
    sxy = 0.0
    for x, y in data:
        sx2 += (x - xm) ** 2
        sy2 += (y - ym) ** 2
        sxy += (x - xm) * (y - ym)
    return sxy / math.sqrt(sx2 * sy2)

data1 = [
    (4.6, 5.5), (0.0, 1.7), (6.4, 7.2), (6.5, 8.3), 
    (4.4, 5.7), (1.1, 1.1), (2.8, 4.1), (5.1, 6.7), 
    (3.4, 5.0), (5.8, 6.6), (5.7, 6.3), (5.5, 5.6), 
    (7.9, 8.7), (3.0, 3.6), (6.8, 8.2), (6.2, 6.2), 
    (4.0, 5.0), (8.6, 9.5), (7.5, 8.9), (1.3, 2.6), 
    (6.3, 7.4), (3.1, 5.0), (6.1, 8.2), (5.3, 6.6), 
    (3.9, 5.1), (5.8, 7.0), (2.6, 3.5), (4.8, 6.3), 
    (2.2, 2.9), (5.3, 6.9) 
]

print ( correlation(data1) )

